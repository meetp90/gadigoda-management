<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="index.css">


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
    <!-- MDB -->
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.11.0/mdb.min.js"></script>
    
    <title>Gadigoda - Plan Manager</title>
</head>

<body>
    <ul class="nav nav-tabs shadow" style="height: 5vh;" id="myTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home"
                aria-selected="true">Plans</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile"
                aria-selected="false">Driver Catalog</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact" role="tab" aria-controls="contact"
                aria-selected="false">Bookings</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="product-tab" data-toggle="tab" href="#product"  onclick="update_products_list()" role="tab" aria-controls="product"
                aria-selected="false">Products</a>

        </li>

    </ul>

    <div class="tab-content" id="myTabContent">
        <div class="product-tab tab-pane fade " id="product" role="tabpanel" aria-labelledby="product-tab">
            <div>
                <div class="topbar">
                    <h1>Products</h1>

                    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#add_product">
                        Add Products
                    </button>
                    
                    <div id="filter_container">
                        <label for="filter" class="font-weight-bold  "  >FILTER </label>
                    <select id="filter" name="filter" class="form-control"  >
                        <option selected value="">None</option>
                        <option value="food">Food</option>
                        <option value="accessories">Accessories</option>
                    </select>
                </div>
                    <div class="products"></div>
                </div>

                <!-- Modal -->
                <div class="modal fade" id="add_product" tabindex="-1" role="dialog" aria-labelledby="add_productLabel"
                    aria-hidden="true">
                    <div class="modal-dialog modal-dialog-scrollable" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Add Product</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <form id="product_adding_form" method="POST">
                                    <label for="product_name" class="font-weight-bold">Enter Product Name</label>
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="basic-addon3">Product Name</span>
                                        </div>
                                        <input name="name" type="text" class="form-control" id="name"
                                            aria-describedby="basic-addon3" required />
                                    </div>

                                    <label for="basic-url" style="margin-bottom: 0px !important"
                                        class="font-weight-bold" name="desc">Enter
                                        Product
                                        Description</label>
                                    <div class="input-group">
                                        <textarea name="desc" style="margin-bottom: 15px"
                                            class="form-control" id="desc" aria-label="With textarea"
                                            required></textarea>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-group col-md-6">
                                            <label for="price" class="font-weight-bold">Price</label>
                                            <input type="number" name="price" class="form-control" id="price"
                                                placeholder="Enter Price" required />
                                        </div>
                                        <div class="form-group col-md-6">
                                            <label for="mrp" class="font-weight-bold">MRP</label>
                                            <input type="number" name="mrp" class="form-control" id="mrp"
                                                placeholder="Enter MRP" required />
                                        </div>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-group col-md-6">
                                            <label for="location" class="font-weight-bold">Location</label>
                                            <select id="location" name="locations" class="form-control">
                                                <option selected readonly>Select Location</option>
                                                <option value="location1">Location 1</option>
                                                <option value="location2">Location 2</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group col-lg-9">
                                            <label for="delay" class="font-weight-bold">Delay</label>
                                            <input type="number" class="form-control"
                                                placeholder="Enter Delay in minutes" id="delay"
                                                name="time" required />
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group col-lg-9">
                                            <label for="category" class="font-weight-bold">Category</label>
                                            <input type="text" class="form-control" placeholder="Enter Category"
                                                id="category" required name="category" />
                                        </div>
                                    </div>
                                    <label for="category" class="font-weight-bold">Available At:</label>
                                    <div class="form-row">

                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" name="availableAt" type="checkbox" id="Morning"
                                                value="morning">
                                            <label class="form-check-label" for="inlineCheckbox1">Morning</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" name="availableAt" type="checkbox" id="Afternoon"
                                                value="afternoon">
                                            <label class="form-check-label" for="inlineCheckbox2">Afternoon</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" name="availableAt" type="checkbox" id="Evening"
                                                value="evening">
                                            <label class="form-check-label" for="inlineCheckbox3">Evening</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input class="form-check-input" name="availableAt" type="checkbox" id="Night" value="night">
                                            <label class="form-check-label" for="inlineCheckbox3">Night</label>
                                        </div>

                                    </div>
                                    <div class="form-row">
                                        <div class="form-group col-md-6 mt-4">
                                            <label for="img" class="font-weight-bold":>Upload Image :</label>
                                            <div class="holder">
                                                <img id="imgPreview" style="width:100%;height:100%" />
                                            </div>
                                            <input type="file" id="media" name="media" class="upload-input" required>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" id="clear" class="btn btn-secondary" data-dismiss="modal">
                                    Close
                                </button>
                                <button type="button" id="submit" class="btn btn-primary" onclick="add_new_products();return false">Submit</button>
                            </div>
                        </div>

                    </div>
                </div>

            </div>

            
        </div>
        <div class="plan-tab tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
            <div id="plan-management-view" style="display: inline-flex;">
                <div class="plan-sub-tab">
                    <div class="plan-sub-tab-label">
                        Parent Packages
                        <button style="display: none;" onclick="update_packages_list()"></button>
                        <button type="button" class="btn btn-outline-primary" data-toggle="modal"
                            data-target="#create_new_package_modal" style="float: right;">Add Package</button>
                    </div>

                    <div style="margin-top: 20px;height: 85vh;overflow-y: scroll;">
                        <ul class="list-group" id="packages_list" style="display: unset; overflow-y: scroll;">

                        </ul>
                    </div>
                </div>

                <div class="plan-sub-tab">

                    <div class="plan-sub-tab-label" style="display: -webkit-inline-box;">
                        <div>
                            Vehicle Packages
                            <p id="opened_plan">Select Parent Package</p>
                        </div>
                        <button type="button" class="btn btn-outline-primary" data-toggle="modal"
                            id="add_vehicle-package-button" data-target="#create_new_vehicle_modal"
                            style="margin-top:10px;margin-left: 20px;">Add Vehicle
                            Plan</button>
                    </div>
                    <div>
                        <div id="no_vehicles_layout">
                            <div class="row">
                                <div class="col">
                                    <div class="card">
                                        <div class="card-body">
                                            <h5 class="card-title" id="no_vehicles_layout_header">No Cars Available.
                                            </h5>
                                            <p class="card-text">Each parent package is enabled with car plans added to
                                                it
                                                for particular amount of Kms & Time Duration. Kindly add vehicle plans
                                                to
                                                this package.</p>
                                            <a href="#" class="btn btn-primary" data-toggle="modal"
                                                id="no_vehicles_layout_action_button"
                                                data-target="#create_new_vehicle_modal" readonly>Add Vechicle Plan.</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <ul class="list-group" id="vechicles_list_ul">


                            </ul>
                        </div>
                    </div>

                </div>

                <div class="plan-sub-tab">
                    <div>

                    </div>
                </div>
            </div>

            <div id="plan-loader" style="display:none;width: 100vw;height: 95vh;text-align: center;">
                <div class="spinner-border" role="status" style="margin-top: 30vh;width: 6rem; height: 6rem;">
                    <span class="sr-only">Loading...</span>
                </div>
            </div>
        </div>
        <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">...</div>
        <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">...</div>
    </div>



    <div class="modal" id="create_new_package_modal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Create Package</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <form id="packake_creation_form">

                        <label for="basic-url">Enter Plan Name</label>
                        <div class="input-group mb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon3">Plan Name</span>
                            </div>
                            <input name="name" type="text" class="form-control" id="plan-name-input"
                                aria-describedby="basic-addon3">
                        </div>


                        <label for="basic-url" style="margin-bottom: 0px!important;">Enter Plan Description</label>
                        <div class="input-group">
                            <textarea name="package_description" style="margin-bottom: 15px;" class="form-control"
                                aria-label="With textarea"></textarea>
                        </div>

                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="inputEmail4">Kms Billed</label>
                                <input type="number" name="kms_charged" class="form-control" id="inputEmail4"
                                    placeholder="Customer Pays for X Kms">
                            </div>
                            <div class="form-group col-md-6">
                                <label for="inputEmail4">Kms Alloted</label>
                                <input type="number" name="alloted_kms" class="form-control" id="inputEmail4"
                                    placeholder="Actual Kms for Customer">
                            </div>
                        </div>



                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="inputEmail4">Time</label>
                                <input type="number" name="alloted_time" class="form-control" id="inputEmail4"
                                    placeholder="Enter Amount Of Time">
                            </div>
                            <div class="form-group col-md-6">
                                <label for="inputPassword4">Time Unit</label>
                                <select id="inputState" name="alloted_time_unit" class="form-control">
                                    <option selected readonly>Select Unit</option>
                                    <option>Hour(s)</option>
                                    <option>Day(s)</option>
                                </select>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" onclick="capture_new_apckage_form()">Save
                        changes</button>
                </div>
            </div>
        </div>
    </div>


    <div class="modal" id="create_new_vehicle_modal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Create Vehicle Package</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">

                    <form id="create_new_vehicle_modal_form">

                        <label for="basic-url">Plan Name</label>
                        <div class="input-group mb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon3">Plan Name</span>
                            </div>
                            <input name="parent-plan-name" type="text" class="form-control" id="parent-plan-name-input"
                                aria-describedby="basic-addon3" readonly>
                        </div>

                        <div class="form-row">
                            <div class="form-group col">
                                <label for="inputEmail4">Charged Kms</label>
                                <input type="number" name="plan_charged_kms" class="form-control" id="plan_charged_kms"
                                    placeholder="Alloted Kms" readonly>
                            </div>

                            <div class="form-group col">
                                <label for="inputEmail4">Alloted Kms</label>
                                <input type="number" name="plan_alloted_kms" class="form-control" id="plan_alloted_kms"
                                    placeholder="Alloted Kms" readonly>
                            </div>

                        </div>

                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="inputPassword4">Vechile</label>
                                <select class="form-control" name="selected_vehicle" id="#vehicle_list_select"
                                    onchange="setseats(this.options[this.selectedIndex].getAttribute('seats'));">
                                    <option selected readonly>Select Vechile</option>
                                    <option value="Maruti Suzuki Dzire" seats="4">Maruti Suzuki Dzire</option>
                                    <option value="Toyota Etios" seats="4">Toyota Etios</option>
                                    <option value="Maruti Suzuki Ertiga" seats="6">Maruti Suzuki Ertiga</option>
                                    <option value="Toyota Innova" seats="7">Toyota Innova</option>
                                    <option value="Toyota Innova Crysta" seats="6">Toyota Innova Crysta</option>
                                    <option value="Chevrolet Tavera" seats="8">Chevrolet Tavera</option>
                                    <option value="Force Toofan" seats="13">Force Toofan</option>
                                    <option value="Force Traveller [12 Seater]" seats="12">Force Traveller [12 Seater]
                                    </option>
                                    <option value="Force Traveller [17 Seater]" seats="17">Force Traveller [17 Seater]
                                    </option>
                                </select>
                            </div>

                            <div class="form-group col-md-6">
                                <label for="inputEmail4">No Of Seats</label>
                                <input type="number" name="no_of_seats" class="form-control" id="no_of_seats_input"
                                    placeholder="No Of Seats" value="0" readonly>
                            </div>
                        </div>

                        <label for="basic-url"><b>Ride Price</b> [Min Cost To Customer]</label>
                        <div class="input-group mb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="basic-addon3">Plan Price</span>
                            </div>
                            <input name="plan_baseprice" type="text" class="form-control"
                                id="parent-plan-baseprice-input" aria-describedby="basic-addon3" readonly>
                        </div>


                        <div class="form-row">
                            <div class="form-group col">
                                <label for="inputEmail4">Price / Km</label>
                                <input type="number" name="price_per_km" class="form-control" id="price_per_km_input"
                                    placeholder="Enter Price">
                            </div>

                            <div class="form-group col">
                                <label for="inputEmail4">Base Amount</label>
                                <input type="number" name="base_amount" class="form-control" id="base_amount_input"
                                    placeholder="Min Payable Amount" readonly>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="inputPassword4">Allowance</label>
                                <select id="allowance_selectbox" name="allowance_indicator" class="form-control"
                                    onchange="setup_allowance_index(this.options[this.selectedIndex].getAttribute('value'));">
                                    <option selected value="0">No Allowance</option>
                                    <option value="1">1 Night</option>
                                    <option value="2">2 Nights</option>
                                </select>
                            </div>

                            <div class="form-group col">
                                <label for="inputEmail4">Allowance Amount/ Night</label>
                                <input type="number" name="allowance_cost_per_unit" class="form-control"
                                    id="allowance_amt_input" placeholder="Driver Allowance Cost / Night" value="0"
                                    readonly>
                            </div>
                        </div>


                        <label for="basic-url" style="margin-bottom: 0px!important;">Enter Terms & Conditions. [ Use ;
                            as seperator]</label>
                        <div class="input-group">
                            <textarea name="description" style="min-height:100px;margin-bottom: 15px;"
                                class="form-control" aria-label="With textarea"></textarea>
                        </div>

                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" onclick="vehicle_plan_creation_form()">Save
                        changes</button>
                </div>
            </div>
        </div>
    </div>
    <script src="index.js"></script>
    <script>
        //localStorage.setItem('packages','');
        update_packages_list();
        setup_vehicle_view();
        
    </script>


</body>

</html>